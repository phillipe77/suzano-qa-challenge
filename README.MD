# Suzano QA Challenge - Framework de AutomaÃ§Ã£o de Testes API

## ğŸ“– VisÃ£o Geral

Este projeto Ã© um framework de automaÃ§Ã£o de testes para APIs RESTful, . Na qual se utiliza o **Cypress** na validaÃ§Ã£o de endpoints, performance e geraÃ§Ã£o de relatÃ³rios detalhados. O framework Ã© modular, escalÃ¡vel e integrado com **GitHub Actions** para execuÃ§Ã£o contÃ­nua e publicaÃ§Ã£o de relatÃ³rios no **GitHub Pages**.

---

## ğŸ› ï¸ Tecnologias Utilizadas

- **Cypress**: Framework de testes 
- **cypress-mochawesome-reporter**: GeraÃ§Ã£o de relatÃ³rios HTML detalhados.
- **AJV**: ValidaÃ§Ã£o de esquemas JSON.
- **GitHub Actions**: Pipeline de CI/CD para execuÃ§Ã£o automatizada.
- **GitHub Pages**: PublicaÃ§Ã£o de relatÃ³rios de teste.
- **Node.js**: Ambiente de execuÃ§Ã£o para JavaScript.

---

## ğŸ—‚ï¸ Estrutura do Projeto

```
suzano-qa-challenge/
â”œâ”€â”€ .github/workflows/        # ConfiguraÃ§Ã£o de CI/CD
â”‚   â””â”€â”€ cypress.yml           # Pipeline de execuÃ§Ã£o de testes e publicaÃ§Ã£o de relatÃ³rios
â”‚
â”œâ”€â”€ cypress/
â”‚   â”œâ”€â”€ e2e/                  # Testes organizados por funcionalidade
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ products/     # Testes para endpoints de produtos
â”‚   â”‚           â”œâ”€â”€ get.spec.js      # Testes para operaÃ§Ãµes GET
â”‚   â”‚           â”œâ”€â”€ post.spec.js     # Testes para operaÃ§Ãµes POST
â”‚   â”‚           â”œâ”€â”€ update.spec.js   # Testes para operaÃ§Ãµes PUT/PATCH
â”‚   â”‚           â”œâ”€â”€ delete.spec.js   # Testes para operaÃ§Ãµes DELETE
â”‚   â”‚           â””â”€â”€ negative.spec.js # Testes de cenÃ¡rios negativos
â”‚   â”‚
â”‚   â”œâ”€â”€ factories/            # GeraÃ§Ã£o de Dados para testes
â”‚   â”‚   â””â”€â”€ factory.js        # CriaÃ§Ã£o de objetos de produto
â”‚   â”‚
â”‚   â”œâ”€â”€ fixtures/             # Dados de teste (JSON)
â”‚   â”‚   â””â”€â”€ schemas/          # Esquemas JSON para validaÃ§Ã£o
â”‚   â”‚
â”‚   â”œâ”€â”€ reports/              # RelatÃ³rios gerados pelos testes
â”‚   â”‚
â”‚   â”œâ”€â”€ support/              # Arquivos de suporte
â”‚   â”‚   â”œâ”€â”€ commands.js       # Comandos do Cypress
â”‚   â”‚   â””â”€â”€ e2e.js            # ConfiguraÃ§Ã£o global para testes 
â”‚   â”‚
â”‚   â””â”€â”€ utils/                # UtilitÃ¡rios reutilizÃ¡veis
â”‚       â”œâ”€â”€ apiAssertions.js  # ValidaÃ§Ãµes de API 
â”‚       â””â”€â”€ schemaValidator.js # ValidaÃ§Ã£o de esquemas JSON
â”‚
â”œâ”€â”€ cypress.config.js         # ConfiguraÃ§Ã£o do Cypress
â”œâ”€â”€ package.json              # DependÃªncias e scripts NPM
â””â”€â”€ README.md                 # arquivo de documentaÃ§Ã£o
```

---

## ğŸš€ Funcionalidades

- **Testes de API**:
  - OperaÃ§Ãµes GET, POST, PUT/PATCH e DELETE.
  - Testes de cenÃ¡rios negativos.
  - ValidaÃ§Ã£o de tempo de resposta.
  - ValidaÃ§Ã£o de esquemas JSON.

- **RelatÃ³rios Detalhados**:
  - RelatÃ³rios HTML gerados automaticamente 
  - PublicaÃ§Ã£o no GitHub Pages para fÃ¡cil acesso.

- **ExecuÃ§Ã£o Paralela**:
  - DivisÃ£o dos testes em jobs paralelos para maior eficiÃªncia.

- **ValidaÃ§Ãµes AutomÃ¡ticas**:
  - ValidaÃ§Ã£o de status HTTP, tempo de resposta e estrutura de dados.

---

## âš™ï¸ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o

### PrÃ©-requisitos

- Node.js 18 ou superior
- npm ou yarn
- Git

### Passos para InstalaÃ§Ã£o

1. Clone o repositÃ³rio:
   ```bash
   git clone https://github.com/seu-usuario/suzano-qa-challenge.git
   ```

2. Acesse o diretÃ³rio do projeto:
   ```bash
   cd suzano-qa-challenge
   ```

3. Instale as dependÃªncias:
   ```bash
   npm install
   ```

---

## ğŸ“‹ Comandos DisponÃ­veis

| Comando                     | DescriÃ§Ã£o                                                                 |
|-----------------------------|---------------------------------------------------------------------------|
| `npm test`                  | Executa todos os testes.                                                 |
| `npm run test:parallel`     | Executa os testes em paralelo.                                           |
| `npm run test:api`          | Executa apenas os testes de API.                                         |
| `npm run test:products`     | Executa os testes relacionados a produtos.                              |
| `npm run test:get`          | Executa os testes de operaÃ§Ãµes GET.                                      |
| `npm run test:post`         | Executa os testes de operaÃ§Ãµes POST.                                     |
| `npm run test:update`       | Executa os testes de operaÃ§Ãµes PUT/PATCH.                                |
| `npm run test:delete`       | Executa os testes de operaÃ§Ãµes DELETE.                                   |
| `npm run test:negative`     | Executa os testes de cenÃ¡rios negativos.                                 |
| `npm run test:open`         | Abre o Cypress em modo interativo.                                       |
| `npm run report`            | Gera relatÃ³rios consolidados.                                            |

---

## ğŸ›ï¸ Arquitetura do Framework

### PadrÃµes de Projeto e Boas PrÃ¡ticas Utilizados

1. **Factory Pattern**  
   - ğŸ“ Implementado em `factories/factory.js` para geraÃ§Ã£o dinÃ¢mica e reutilizÃ¡vel de dados de teste.  
   - âœ… **BenefÃ­cio**: Facilita a criaÃ§Ã£o de cenÃ¡rios variados com dados customizados, promovendo testes mais robustos e escalÃ¡veis.

2. **Command Pattern**  
   - ğŸ“ Aplicado em `support/commands.js` para encapsular comandos personalizados e reutilizÃ¡veis do Cypress.  
   - âœ… **BenefÃ­cio**: Reduz duplicaÃ§Ã£o de cÃ³digo, melhora a organizaÃ§Ã£o das aÃ§Ãµes e torna os testes mais legÃ­veis.

3. **Fluent Interface**  
   - ğŸ“ Implementado em `utils/apiAssertions.js` para encadeamento elegante de validaÃ§Ãµes.  
   - âœ… **BenefÃ­cio**: Proporciona legibilidade ao cÃ³digo de testes e torna as asserÃ§Ãµes mais claras.

4. **Validation Layer**  
   - ğŸ“ Centralizado em `utils/schemaValidator.js` e os esquemas em `schemas/productSchema.js`, validando a estrutura dos objetos de resposta da API.  
   - âœ… **BenefÃ­cio**: Garante a conformidade com os contratos da API e facilita verificar  quebras em integraÃ§Ãµes.

5. **Helper Layer**  
   - ğŸ“ Armazenada em `helpers/productHelper.js`, contendo funÃ§Ãµes utilitÃ¡rias especÃ­ficas para a manipulaÃ§Ã£o de produtos.  
   - âœ… **BenefÃ­cio**: ReÃºne lÃ³gica auxiliar em um Ãºnico local, promovendo reutilizaÃ§Ã£o e clareza no cÃ³digo dos testes.

6. **Service Layer**  
   - ğŸ“ Implementada em `services/productService.js`, responsÃ¡vel pelas chamadas diretas aos endpoints de produto.  
   - âœ… **BenefÃ­cio**: Abstrai a lÃ³gica de requisiÃ§Ãµes HTTP, melhora a organizaÃ§Ã£o e facilita a manutenÃ§Ã£o e reaproveitamento.

7. **Data Modeling (Modelos de Entidade)**  
   - ğŸ“ Definido em `models/product.js`, estruturando os atributos esperados para a entidade `Product`.  
   - âœ… **BenefÃ­cio**: Padroniza os dados manipulados nos testes e assegura consistÃªncia nos cenÃ¡rios validados.

8. **Uso de Fixtures**  
   - ğŸ“ Dados estÃ¡ticos centralizados em `fixtures/products/newProduct.json`, usados como referÃªncia para entrada ou validaÃ§Ã£o em testes.  
   - âœ… **BenefÃ­cio**: Garante reprodutibilidade, consistÃªncia e facilidade de alteraÃ§Ã£o dos dados base.

9. **RelatÃ³rios Automatizados**  
   - ğŸ“ Gerados em `reports/`, integrados via `multi-reporter-config.json` e `mochawesome`, permitindo visualizaÃ§Ã£o amigÃ¡vel dos resultados de testes.  
   - âœ… **BenefÃ­cio**: Fornece feedback claro sobre falhas e serve como documentaÃ§Ã£o viva dos testes.

10. **OrganizaÃ§Ã£o por Camada de Testes**  
   - ğŸ“ Estrutura de testes definida em `e2e/api/products`, separando testes por verbo HTTP (`get.spec.js`, `post.spec.js`, etc).  
   - âœ… **BenefÃ­cio**: Facilita leitura, manutenÃ§Ã£o e rastreamento de falhas por tipo de operaÃ§Ã£o.


---

## ğŸ“Š RelatÃ³rios

Os relatÃ³rios sÃ£o gerados automaticamente apÃ³s a execuÃ§Ã£o dos testes e publicados no GitHub Pages. Eles incluem:
- Status de execuÃ§Ã£o (sucesso/falha).
- Tempo de execuÃ§Ã£o de cada teste.
- ValidaÃ§Ãµes realizadas.
- GrÃ¡ficos e mÃ©tricas detalhadas.

### Acesso aos RelatÃ³rios

Os relatÃ³rios podem ser acessados em:  
https://phillipe77.github.io/suzano-qa-challenge/

---

## ğŸ”„ Pipeline de CI/CD

A pipeline de CI/CD Ã© implementada com GitHub Actions e realiza as seguintes etapas:

1. **ExecuÃ§Ã£o de Testes**:
   - Os testes sÃ£o divididos em jobs paralelos para maior eficiÃªncia.

2. **Armazenamento de Artefatos**:
   - RelatÃ³rios e logs sÃ£o armazenados como artefatos para anÃ¡lise posterior.

3. **PublicaÃ§Ã£o de RelatÃ³rios**:
   - RelatÃ³rios sÃ£o organizados e publicados no GitHub Pages.

---

## ğŸ”® Escalabilidade

### PossÃ­veis implementaÃ§Ãµes

- **Testes de Contrato**: ImplementaÃ§Ã£o de validaÃ§Ã£o de contratos com Pact.
- **Testes de Carga**: AvaliaÃ§Ã£o de comportamento sob alta demanda.
- **Dashboard de MÃ©tricas**: Monitoramento contÃ­nuo da qualidade da API.

### ExpansÃ£o de Funcionalidades

- AdiÃ§Ã£o de novos endpoints e cenÃ¡rios de teste de maneira fÃ¡cil.
- IntegraÃ§Ã£o com ferramentas de gestÃ£o de testes, como TestRail.

---

## ğŸ¤ Contribuindo

1. FaÃ§a um fork do projeto.
2. Crie uma branch para sua feature:
   ```bash
   git checkout -b feature/nova-feature
   ```
3. FaÃ§a commit das suas alteraÃ§Ãµes:
   ```bash
   git commit -m 'Adiciona nova feature'
   ```
4. FaÃ§a push para a branch:
   ```bash
   git push origin feature/nova-feature
   ```
5. Abra um Pull Request.

---

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ licenciado sob a licenÃ§a ISC. Consulte o arquivo package.json para mais detalhes.

---

